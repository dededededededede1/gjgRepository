## 1、条件构造器

 **说明** :

* 以下出现的第一个入参boolean condition表示该条件**是否**加入最后生成的sql中
* 以下代码块内的多个方法均为从上往下补全个别boolean类型的入参,默认为true
* 以下出现的泛型Param均为Wrapper的子类实例(均具有AbstractWrapper的所有方法)
* 以下方法在入参中出现的R为泛型,在普通wrapper中是String,在LambdaWrapper中是 **函数** (例:Entity::getId,Entity为实体类,getId为字段id的getMethod)
* 以下方法入参中的R column均表示数据库字段,当R具体类型为String时则为数据库字段名( **字段名是数据库关键字的自己用转义符包裹** !)!而不是实体类数据字段名!!!,另当R具体类型为SFunction时项目runtime不支持eclipse自家的编译器!!!
* 以下举例均为使用普通wrapper,入参为Map和List的均以json形式表现!
* 使用中如果入参的Map或者List为空,则不会加入最后生成的sql中!!!

---

## 2、QueryWrapper

> **说明** :
>
> 继承自 AbstractWrapper ,自身的内部属性 entity 也用于生成 where 条件
> 及 LambdaQueryWrapper, 可以通过 new QueryWrapper().lambda() 方法获取

**给之后测试提供参考**
![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f207b2d817d2420da347785658d6234e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

> **注意：7号数据已经被逻辑删除了**

---

### 2.1、eq、ne

> **eq：等于，ne：不等于**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a07643e9e7c5496da30b22bd46597b27~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e3f8185325e94b8485c3cc9e04fb42b0~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/411f5c70cba243f9acbffad13854c20e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b10e2b27ea6403c93685754e66f46d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

---

### 2.2、gt、ge、lt、le

> **gt：大于，ge：大于等于，lt：小于，le：小于等于**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f77cfcc4ec84d1e90816d03094e9b33~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b9c6ee9e6a24836a0a2631f99fff20d~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64f087e9a25b4ca282145c209ce707ea~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b3f8c537249d495193199c1965451282~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

---

### 2.3、between、notBetween

> **between：在值1和值2之间，notBetween：不在值1和值2之间**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0f67414d17534ef48aae4a88e060f424~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b4aa8f517354ce1b70637aa613fe318~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

---

### 2.4、like、notLike、likeLeft、likeRight

> **like：’%值%'，notLike：'%值%'，likeLeft：'%值'，likeRight：'值%'**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3e6b62ccefe244b2a02852b4710e7bdd~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bdc191ecc51e4786b2565941f469760e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb5c5beaf5694d7fb8eb8e3fb84ca4a4~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/95cae204ea0b4ec1b03b8e3879511f4a~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

---

### 2.4、isNull、isNotNull

> **isNull：字段 IS NULL，isNotNull：字段 IS NOT NULL**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/580cb29d742e44eaafe1f48480d83a5a~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8417bd1e8715440cb9c09a7ab31e84c9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/648cef0b21de40738e98df18c4469158~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

---

### 2.5、in、notIn

> **in：字段 IN (v0, v1, ...)，notIn：字段 NOT IN (value.get(0), value.get(1), ...)**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/046518557f66420c9cc3be3e95321567~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/868fc597a8294d0684f0ae71d7aed58e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

---

### 2.5、inSql、notInSql

> **inSql：字段 IN ( sql语句 )，notInSql：字段 NOT IN ( sql语句 )**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e163d0c0a0ec423dbb4cb3bdb6a81e92~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/354d2379142f4883abfaa521ab7baf17~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

---

### 2.6、or、and

> **or：拼接 OR，AND 嵌套**

> **注意事项** :
> 主动调用or表示紧接着下一个方法不是用and连接!(不调用or则默认为使用and连接)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dbc088ed25d1481798a8c1e6b2895c7c~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dd9a33c81b834a9888a9c7b185817463~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/623c7d2d26e94d73b664f5cbce878cf7~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3bb7ed2a5125483ca0bb35ef6bac8906~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

> **不使用and默认就是and连接**

---

### 2.6、exists、notExists

> **exists：拼接 EXISTS ( sql语句 )，notExists：拼接 NOT EXISTS ( sql语句 )**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/650c1839c94a42a6ae76f431c7c75be8~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)
![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/954171ae2a494764bf2767b044a3cfe5~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

---

### 2.7、orderByAsc、orderByDesc

> **orderByAsc：排序：ORDER BY 字段, ... ASC，orderByDesc：排序：ORDER BY 字段, ... DESC**

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d47c9bae2b1f4371bc02c13b7bf9ef63~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b6d5fe1bf95435583954aab43327806~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e80bca8a7d4e48ff8bbdbb2591d1d2af~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![在这里插入图片描述](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a90e5f856e394bc1922d4e8da5e50eeb~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)



# LambdaQueryWrapper用法注解


| 方法         | sql                                 |
| ------------ | ----------------------------------- |
| setSqlSelect | SELECT 查询字段                     |
| where        | WHERE 语句，拼接 + WHERE 条件       |
| and          | AND 语句，拼接 + AND 字段=值        |
| andNew       | AND 语句，拼接 + AND (字段=值)      |
| or           | OR 语句，拼接 + OR 字段=值          |
| orNew        | OR 语句，拼接 + OR (字段=值)        |
| eq           | 等于=                               |
| allEq        | 基于 map 内容等于=                  |
| ne           | 不等于<>                            |
| gt           | 大于>                               |
| ge           | 大于等于>=                          |
| lt           | 小于<                               |
| le           | 小于等于<=                          |
| like         | 模糊查询 LIKE                       |
| notLike      | NOT LIKE模糊查询                    |
| in           | IN 查询                             |
| notIn        | NOT IN 查询                         |
| isNull       | NULL 值查询                         |
| isNotNull    | IS NOT NULL                         |
| groupBy      | 分组 GROUP BY                       |
| having       | HAVING 关键词                       |
| orderBy      | 排序 ORDER BY                       |
| orderAsc     | Asc 排序 ORDER BY                   |
| orderDesc    | DESC 排序 ORDER BY                  |
| exists       | EXISTS 条件语句                     |
| notExists    | NOT EXISTS 条件语句                 |
| between      | BETWEEN 条件语句                    |
| notBetween   | NOT BETWEEN 条件语句                |
| addFilter    | 自由拼接 SQL                        |
| last         | 拼接在最后，例如：last(“LIMIT 1”) |



# LambdaQueryWrapper&QueryWrapper增删改CURD使用教程案例


# 1、【大小比较： ( =, <>, >, >=, <, <= )】

    eq(R column, Object val); // 等价于 =，例: eq("name", "媳妇") ---> name = '媳妇'

ne(R column, Object val); // 等价于 <>，例: ne("name", "媳妇") ---> name <> '媳妇'

gt(R column, Object val); // 等价于 >，例: gt("name", "媳妇") ---> name > '媳妇'

ge(R column, Object val); // 等价于 >=，例: ge("name", "媳妇") ---> name >= '媳妇'

lt(R column, Object val); // 等价于 <，例: lt("name", "媳妇") ---> name < '媳妇'

le(R column, Object val); // 等价于 <=，例: le("name", "媳妇") ---> name <= '媳妇'

使用上面直接对象的名称，以及入参即可，比如下面java代码实现列表查询

```
    public List<DimDict> listByDictCode(DictCodeEnum dictCodeEnum) {

        LambdaQueryWrapper<DimDict> wrapper = Wrappers.lambdaQuery();

        wrapper.eq(DimDict::getDictCode, dictCodeEnum.getCode())

                .eq(DimDict::getEnabled, DictEnableEnum.VALID.getType());

        return this.list(wrapper);

```

# 2、【范围：（between、not between、in、not in）】

between(R column, Object val1, Object val2); // 等价于 between a and b, 例：                between("age", 18, 30) ---> age between 18 and 30

notBetween(R column, Object val1, Object val2); // 等价于 not between a and b, 例：    notBetween("age", 18, 30) ---> age not between 18 and 30

in(R column, Object... values); // 等价于 字段 IN (v0, v1, ...),例: in("age",{1,2,3}) ---> age in (1,2,3)

notIn(R column, Object... values); // 等价于 字段 NOT IN (v0, v1, ...), 例: notIn("age",{1,2,3}) ---> age not in (1,2,3)

inSql(R column, Object... values); // 等价于 字段 IN (sql 语句), 例: inSql("id", "select id from table where id < 3") ---> id in (select id from table where id < 3)

notInSql(R column, Object... values); // 等价于 字段 NOT IN (sql 语句)

主要实现的java代码如下，实现查询一个页面。里面会带有分页且根据时间排序

```
    public IPage<TbmNewsDupFilter> getInfoListByNewsId(String newsId, Byte position, Date startTime, Date endTime, Integer current, Integer size) {

        IPage<TbmNewsDupFilter> page = new Page<>(current, size);

        LambdaQueryWrapper<TbmNewsDupFilter> lqw = new LambdaQueryWrapper<>();

        lqw.eq(TbmNewsDupFilter::getNewsId, newsId).ne(TbmNewsDupFilter::getPosition, 0)

                .between(TbmNewsDupFilter::getCreateTime, startTime, endTime);

        if (null != position) {

            lqw.eq(TbmNewsDupFilter::getPosition, position);

        lqw.orderByDesc(TbmNewsDupFilter::getCreateTime);

        return tbmNewsDupFilterMapper.selectPage(page, lqw);

```

# 3、【模糊匹配：（like）】

like(R column, Object val); // 等价于 LIKE '%值%'，例: like("name", "媳妇") ---> name like '%媳妇%'

notLike(R column, Object val); // 等价于 NOT LIKE '%值%'，例: notLike("name", "媳妇") ---> name not like '%媳妇%'

likeLeft(R column, Object val); // 等价于 LIKE '%值'，例: likeLeft("name", "媳妇") ---> name like '%媳妇'

likeRight(R column, Object val); // 等价于 LIKE '值%'，例: likeRight("name", "媳妇") ---> name like '媳妇%'

java代码查询右边末尾模糊查询，前端字符串匹配代码实现如下

```
    private Map<String, Double> queryWeight() {

        QueryWrapper<TagWeight> wrapper = new QueryWrapper<>();

        wrapper.lambda().likeRight(TagWeight::getTagType, "101109");

        List<TagWeight> list = tagWeightService.list(wrapper);

        if (CollectionUtils.isEmpty(list)) {

            return Maps.newHashMap();

        return list.stream().collect(Collectors.toMap(TagWeight::getTagType, TagWeight::getWeight));

```

# 4、【空值比较：（isNull、isNotNull）】

    isNull(R column); // 等价于 IS NULL，例: isNull("name") ---> name is null

isNotNull(R column); // 等价于 IS NOT NULL，例: isNotNull("name") ---> name is not null

java代码使用的案例实现的代码如下可以一共参考，isnotNUll使用上比较多的

```
    private List<HwSecuritiesInfo> getHwSecuritiesInfoList(Long jsid, int limit) {

        LambdaQueryWrapper<HwSecuritiesInfo> lambda = new LambdaQueryWrapper<>();

        lambda.isNotNull(HwSecuritiesInfo::getCompanyCode)

                .ne(HwSecuritiesInfo::getSecuritiesSection, EXCLUDE_SEUCRITIES_SECTION)

                .gt(HwSecuritiesInfo::getJsid, jsid)

                .orderByAsc(HwSecuritiesInfo::getJsid);

        lambda.last("limit " + limit);

        return hwSecuritiesInfoService.list(lambda);

```

# 5、【分组、排序：（group、having、order）】

groupBy(R... columns); // 等价于 GROUP BY 字段, ...， 例: groupBy("id", "name") ---> group by id,name

orderByAsc(R... columns); // 等价于 ORDER BY 字段, ... ASC， 例: orderByAsc("id", "name") ---> order by id ASC,name ASC

orderByDesc(R... columns); // 等价于 ORDER BY 字段, ... DESC， 例: orderByDesc("id", "name") ---> order by id DESC,name DESC

having(String sqlHaving, Object... params); // 等价于 HAVING ( sql语句 )， 例: having("sum(age) > {0}", 11) ---> having sum(age) > 11

实现的java代码参考如下通过分组来查询分页的使用代码

```
    @DataSource(DataSourceType.HW_BUSINESS)

    public IPage<Ds> selectDistinctDsByPage(DsQueryForm queryForm) {

        Integer currentPage = queryForm.getCurrentPage();

        Integer pageSize = queryForm.getPageSize();

        Page<Ds> page = new Page<>(currentPage, pageSize);

        LambdaQueryWrapper<Ds> lqw = new LambdaQueryWrapper<>();

        //数据源编码， 媒体栏目， 信息来源参数只传了一个

        String dsCode = queryForm.getDsCode();

        String dsSourceName = queryForm.getDsSourceName();

        String dsNewsColumns = queryForm.getDsNewsColumns();

        if (!StringUtil.isEmpty(dsCode)) {

            lqw.likeRight(Ds::getDsCode, SqlUtil.escapeLike(dsCode));

            lqw.groupBy(Ds::getDsCode).having("count (0) >1");

        } else if (!StringUtil.isEmpty(dsSourceName)) {

            lqw.like(Ds::getDsSourceName, SqlUtil.escapeLike(dsSourceName));

            lqw.groupBy(Ds::getDsSourceName);

        } else if (!StringUtils.isEmpty(dsNewsColumns)) {

            lqw.like(Ds::getDsNewsColumns, SqlUtil.escapeLike(dsNewsColumns));

            lqw.groupBy(Ds::getDsNewsColumns);

        lqw.orderByAsc(Ds::getDsCode);

        return dsMapper.selectPage(page, lqw);

```

# 6、【拼接、嵌套 sql：（or、and、nested、apply）】

or(); // 等价于 a or b， 例：eq("id",1).or().eq("name","媳妇") ---> id = 1 or name = '媳妇'

or(Consumer consumer); // 等价于 or(a or/and b)，or 嵌套。例: or(i -> i.eq("name", "李白").ne("status", "活着")) ---> or (name = '李白' and status <> '活着')

and(Consumer consumer); // 等价于 and(a or/and b)，and 嵌套。例: and(i -> i.eq("name", "李白").ne("status", "活着")) ---> and (name = '李白' and status <> '活着')

nested(Consumer consumer); // 等价于 (a or/and b)，普通嵌套。例: nested(i -> i.eq("name", "李白").ne("status", "活着")) ---> (name = '李白' and status <> '活着')

apply(String applySql, Object... params); // 拼接sql（若不使用 params 参数，可能存在 sql 注入），例: apply("date_format(dateColumn,'%Y-%m-%d') = {0}", "2008-08-08") ---> date_format(dateColumn,'%Y-%m-%d') = '2008-08-08'")

last(String lastSql); // 无视优化规则直接拼接到 sql 的最后，可能存若在 sql 注入。

exists(String existsSql); // 拼接 exists 语句。例: exists("select id from table where age = 1") ---> exists (select id from table where age = 1)

使用案例java实现的代码逻辑last案例

```
 public Long calculateFileRealMd5(Long minId, Integer limit) {

        LambdaQueryWrapper<AnncFile> wrapper = new LambdaQueryWrapper<>();

        wrapper.eq(AnncFile::getUploadStatus, UploadStatusEnum.SUCCESS.getCode())

                .isNull(AnncFile::getRealFileMd5)

                .gt(AnncFile::getId, minId)

                .orderByAsc(AnncFile::getId)

                .last("limit " + limit);

        List<AnncFile> list = anncFileService.list(wrapper);

```

# 7、【QueryWrapper 条件：】

    select(String... sqlSelect); // 用于定义需要返回的字段。例： select("id", "name", "age") ---> select id, name, age

select(Predicate predicate); // [Lambda](https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3DLambda%26spm%3D1001.2101.3001.7020 "https://so.csdn.net/so/search?q=Lambda&amp;spm=1001.2101.3001.7020") 表达式，过滤需要的字段。

lambda(); // 返回一个 LambdaQueryWrapper

实际使用的select语句java代码实现案例

```
    private List<HwSecuritiesInfo> query(QueryParam param) {

        QueryWrapper<HwSecuritiesInfo> wrapper = new QueryWrapper<>();

        wrapper.lambda().gt(HwSecuritiesInfo::getId, param.getJsid())

                .orderByAsc(HwSecuritiesInfo::getId);

        wrapper.lambda().select(HwSecuritiesInfo::getId, HwSecuritiesInfo::getBusinessId, HwSecuritiesInfo::getCompanyCode);

        wrapper.last("limit " + param.getCount());

        return hwSecuritiesInfoService.list(wrapper);

```

# 8、【UpdateWrapper 条件：】

    set(String column, Object val); // 用于设置 set 字段值。例: set("name", null) ---> set name = null

etSql(String sql); // 用于设置 set 字段值。例: setSql("name = '老公'") ---> set name = '老公'

lambda(); // 返回一个 LambdaUpdateWrapper

java代码使用案例如下

```
    public List<GelonghuiNews> selectGelonghuiNews(Long lastId) {

        QueryWrapper<GelonghuiNews> wrapper = new QueryWrapper<>();

        if (null == lastId) {

        wrapper.lambda().gt(GelonghuiNews::getJsid, lastId).eq(GelonghuiNews::getImageStatus,OssImageStatus.YES.getStatus());

        return super.baseMapper.selectList(wrapper);

```

使用功能简单地开发代码截图如下

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a4b55271765a4badabe0d49d15262477~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

```
LambdaQueryWrapper<HwPicture> lambdaQueryWrapper = new LambdaQueryWrapper<>();

```

# 9、 LambdaQueryWrapper使用其实更为方便；

因为很多个性化的功能呢都在这里面使用的，所以目前开发组建议使用这个；

java使用案例如下：

```
    public List<TbmNewsPopularFeelings> selectNewsPopularFeelings(Date startTime, Date endTime, Integer limitSize) {

        LambdaQueryWrapper<TbmNewsPopularFeelings> lambdaQueryWrapper = new LambdaQueryWrapper<>();

        lambdaQueryWrapper.ge(startTime != null, TbmNewsPopularFeelings::getCreateTime, startTime);

        lambdaQueryWrapper.le(endTime != null, TbmNewsPopularFeelings::getCreateTime, endTime);

        lambdaQueryWrapper.orderByAsc(TbmNewsPopularFeelings::getCreateTime);

        lambdaQueryWrapper.last("limit " + limitSize);

        return historyNewsEventMapper.selectList(lambdaQueryWrapper);

```

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8556692a47c149d68322370fb8aa858c~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

# 10，多表查询如何配置使用

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8cff5bae54804f46abbff7e6977e63ae~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

代码案例使用

# 11.pom依赖

目前的Mybatis-Plus版本已经跟新到2.5.2【本篇博客更新2022-06-15】

```
<mybatis-plus-generator.version>3.5.2</mybatis-plus-generator.version>
<mybatis-plus-boot-starter.version>3.5.2</mybatis-plus-boot-starter.version>
<mybatis-plus-extension.version>3.5.2</mybatis-plus-extension.version>
<mybatis-plus-core.version>3.5.2</mybatis-plus-core.version>

```

目前如果仅仅只是使用上面的功能的话，下面的俩个依赖已经完全满足需要了！

```
             <dependency>
 		<groupId>com.baomidou</groupId>

                <artifactId>mybatis-plus-core</artifactId>

                <version>${mybatis-plus-core.version}</version>

                <groupId>com.baomidou</groupId>

                <artifactId>mybatis-plus-boot-starter</artifactId>

                <version>${mybatis-plus-boot-starter.version}</version>

            </dependency>

```
